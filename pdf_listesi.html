<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Listesi</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f0f0f0;
        }
        @media (prefers-color-scheme: dark) {
            body { background-color: #222; color: #fff; }
            .info-box { background-color: #333; border-color: #555; }
        }
        ul { list-style-type: none; padding: 0; }
        li {
            display: flex;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #ccc;
        }
        .folder-name {
            flex-grow: 1;
            cursor: pointer;
            text-decoration: underline;
        }
        .pdf-content { display: none; padding: 10px; background-color: #fff; margin-top: 10px; border: 1px solid #ccc; }
        @media (prefers-color-scheme: dark) { .pdf-content { background-color: #333; } }
        .search-bar {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            font-size: 16px;
            box-sizing: border-box;
        }
        .info-box {
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #fff;
            margin-bottom: 10px;
            font-size: 14px;
        }
        @media (max-width: 600px) {
            li { flex-direction: column; align-items: flex-start; }
            .folder-name { margin-bottom: 5px; }
        }
        .delete-btn {
            background-color: #ff4444;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            margin-left: 10px;
        }
        .download-btn {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            margin-left: 10px;
        }
        .download-btn:hover {
            background-color: #218838;
        }
        .back-btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 10px;
            font-size: 16px;
        }
        .back-btn:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <h1>PDF Listesi</h1>
    <input type="text" id="search" class="search-bar" placeholder="Klasör adına göre ara...">
    <button class="back-btn" onclick="window.location.href='sonuclar_listesi.html'">Geri</button>
    <div class="info-box" id="color-info"></div>
    <ul id="folder-list"></ul>

    <script>
        const folders = [
{name: "5071995240", hasPdf: true, pdfPaths: ['./5071995240/27362099480_MURAT_ŞİMŞİR.pdf'], content: `<ul><li>27362099480_MURAT_ŞİMŞİR.pdf</li></ul>`},
{name: "5074454683", hasPdf: true, pdfPaths: ['./5074454683/28240988360_MELTEM_EŞİT.pdf'], content: `<ul><li>28240988360_MELTEM_EŞİT.pdf</li></ul>`},
{name: "5301300502", hasPdf: true, pdfPaths: ['./5301300502/27232989866_MEHMET ERDEM_SARAÇOĞLU.pdf', './5301300502/62053019354_BETÜL_YILMAZ.pdf'], content: `<ul><li>27232989866_MEHMET ERDEM_SARAÇOĞLU.pdf</li><li>62053019354_BETÜL_YILMAZ.pdf</li></ul>`},
{name: "5306563419", hasPdf: true, pdfPaths: ['./5306563419/26008543974_LATİF_KARABIYIK.pdf'], content: `<ul><li>26008543974_LATİF_KARABIYIK.pdf</li></ul>`},
{name17: "5310804266", hasPdf: true, pdfPaths: ['./5310804266/14999097682_SERAP SELA_ZAMANOĞLU.pdf', './5310804266/15023096848_SÜLEYMAN_ÇETİN.pdf'], content: `<ul><li>14999097682_SERAP SELA_ZAMANOĞLU.pdf</li><li>15023096848_SÜLEYMAN_ÇETİN.pdf</li></ul>`},
{name: "5312726828", hasPdf: true, pdfPaths: ['./5312726828/27283939148_HATİCE_ERDEM.pdf', './5312726828/36238795586_FURKAN_ALTINTAŞ.pdf'], content: `<ul><li>27283939148_HATİCE_ERDEM.pdf</li><li>36238795586_FURKAN_ALTINTAŞ.pdf</li></ul>`},
{name: "5327905940", hasPdf: true, pdfPaths: ['./5327905940/10503049024_BARIŞ_KAMBUROĞLU.pdf'], content: `<ul><li>10503049024_BARIŞ_KAMBUROĞLU.pdf</li></ul>`},
{name: "5333111395", hasPdf: true, pdfPaths: ['./5333111395/37246688532_ÖZLEM_KUTSAL.pdf', './5333111395/37249041280_METİN_ŞANLI.pdf', './5333111395/37276040324_İSMAİL_ŞANLI.pdf'], content: `<ul><li>37246688532_ÖZLEM_KUTSAL.pdf</li><li>37249041280_METİN_ŞANLI.pdf</li><li>37276040324_İSMAİL_ŞANLI.pdf</li></ul>`},
{name: "5333449835", hasPdf: true, pdfPaths: ['./5333449835/11557043792_ŞAHSENEM SEVDENUR_UÇAN.pdf', './5333449835/37375789964_HACI SÜLEYMAN_UÇAN.pdf', './5333449835/53230321728_OSMAN_GÜNDEŞ.pdf'], content: `<ul><li>11557043792_ŞAHSENEM SEVDENUR_UÇAN.pdf</li><li>37375789964_HACI SÜLEYMAN_UÇAN.pdf</li><li>53230321728_OSMAN_GÜNDEŞ.pdf</li></ul>`},
{name: "5343331155", hasPdf: true, pdfPaths: ['./5343331155/13481797178_ŞEYDA_ÇELİK.pdf', './5343331155/20093892092_MUHAMMED YASİN_ÇELİK.pdf', './5343331155/25997379168_BARIŞ_ÇELİK.pdf', './5343331155/63040143236_DİLEK_ÇELİK.pdf', './5343331155/63253136100_İSMAİL_ÇELİK.pdf'], content: `<ul><li>13481797178_ŞEYDA_ÇELİK.pdf</li><li>20093892092_MUHAMMED YASİN_ÇELİK.pdf</li><li>25997379168_BARIŞ_ÇELİK.pdf</li><li>63040143236_DİLEK_ÇELİK.pdf</li><li>63253136100_İSMAİL_ÇELİK.pdf</li></ul>`},
{name: "5546836650", hasPdf: true, pdfPaths: ['./5546836650/69358139206_OSMAN_YILDIZ.pdf'], content: `<ul><li>69358139206_OSMAN_YILDIZ.pdf</li></ul>`},
{name: "5550386302", hasPdf: true, pdfPaths: ['./5550386302/41863844042_YÜKSEL CAN_TURAN.pdf', './5550386302/58507288902_ÖZKAN_TURAN.pdf'], content: `<ul><li>41863844042_YÜKSEL CAN_TURAN.pdf</li><li>58507288902_ÖZKAN_TURAN.pdf</li></ul>`},
{name: "5551822056", hasPdf: true, pdfPaths: ['./5551822056/44947277262_SÜLEYMAN_AKYAR.pdf'], content: `<ul><li>44947277262_SÜLEYMAN_AKYAR.pdf</li></ul>`}
];

        let checkedState = JSON.parse(localStorage.getItem('pdfCheckedState')) || {};
        let hiddenFolders = JSON.parse(localStorage.getItem('pdfHiddenFolders')) || [];

        function renderList(searchTerm = '') {
            const ul = document.getElementById('folder-list');
            ul.innerHTML = '';
            let blueCount = 0, redCount = 0;

            folders
                .filter(f => !hiddenFolders.includes(f.name) && f.name.toLowerCase().includes(searchTerm.toLowerCase()))
                .forEach(folder => {
                    const li = document.createElement('li');
                    const color = folder.hasPdf ? 'blue' : 'red';
                    if (color === 'blue') blueCount++;
                    else redCount++;

                    let downloadButtons = '';
                    if (folder.hasPdf) {
                        folder.pdfPaths.forEach((path, index) => {
                            const fileName = path.split('/').pop();
                            downloadButtons += `<button class="download-btn" onclick="downloadPdf('${folder.name}', '${path}', '${fileName}')">İndir: ${fileName}</button>`;
                        });
                    }

                    li.innerHTML = `
                        <input type="checkbox" id="check-${folder.name}" ${checkedState[folder.name] ? 'checked' : ''}>
                        <span class="folder-name" style="color: ${color}" onclick="showPdf('${folder.name}')">${folder.name}</span>
                        <button class="delete-btn" onclick="hideFolder('${folder.name}')">Sil</button>
                        ${downloadButtons}
                        <div id="content-${folder.name}" class="pdf-content">${folder.content}</div>
                    `;
                    ul.appendChild(li);
                });

            document.getElementById('color-info').innerHTML = `
                Renk Açıklamaları:<br>
                <span style="color: blue">Mavi: PDF Var (${blueCount})</span><br>
                <span style="color: red">Kırmızı: PDF Yok (${redCount})</span>
            `;
        }

        function showPdf(name) {
            document.querySelectorAll('.pdf-content').forEach(content => content.style.display = 'none');
            const contentDiv = document.getElementById(`content-${name}`);
            if (contentDiv) contentDiv.style.display = 'block';
        }

        function hideFolder(name) {
            hiddenFolders.push(name);
            localStorage.setItem('pdfHiddenFolders', JSON.stringify(hiddenFolders));
            renderList(document.getElementById('search').value);
        }

        function downloadPdf(name, path, fileName) {
            const link = document.createElement('a');
            link.href = path;
            link.download = fileName;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        document.getElementById('search').addEventListener('input', e => renderList(e.target.value));

        document.getElementById('folder-list').addEventListener('change', e => {
            if (e.target.type === 'checkbox') {
                const name = e.target.id.replace('check-', '');
                checkedState[name] = e.target.checked;
                localStorage.setItem('pdfCheckedState', JSON.stringify(checkedState));
            }
        });

        renderList();
    </script>
</body>
</html>
